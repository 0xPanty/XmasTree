# Farcaster Mini App éƒ¨ç½²æŒ‡å—

## âœ… å½“å‰é…ç½®çŠ¶æ€

### 1. **Meta æ ‡ç­¾é…ç½®ï¼ˆå·²å®Œæˆï¼‰**

```html
<!-- Open Graph -->
<meta property="og:title" content="Jingle Gift">
<meta property="og:description" content="Interactive 3D Christmas Tree with Music">
<meta property="og:image" content="https://xmas-tree-opal.vercel.app/preview.svg">

<!-- Farcaster Mini App -->
<meta name="fc:miniapp" content='{"version":"1","imageUrl":"https://xmas-tree-opal.vercel.app/preview.svg","button":{"title":"ğŸ Open","action":{"type":"launch_frame","name":"Jingle Gift","splashImageUrl":"https://xmas-tree-opal.vercel.app/icon.svg","splashBackgroundColor":"#0a1a0a"}}}' />
```

### 2. **Vercel éƒ¨ç½²ï¼ˆå·²å®Œæˆï¼‰**

- âœ… åŸŸåï¼š`xmas-tree-opal.vercel.app`
- âœ… GitHub è‡ªåŠ¨éƒ¨ç½²å·²é…ç½®
- âœ… ç¯å¢ƒå˜é‡å·²è®¾ç½®ï¼ˆGemini API, Neynar API, Upstash KVï¼‰

### 3. **ä»£ç æ¸…ç†ï¼ˆå·²å®Œæˆï¼‰**

- âœ… ç§»é™¤æ‰€æœ‰æµ‹è¯•ä»£ç 
- âœ… ç§»é™¤æ‰€æœ‰è°ƒè¯•æ—¥å¿—
- âœ… ç”Ÿäº§æ¨¡å¼å¯ç”¨

---

## ğŸ“‹ Farcaster Mini App éƒ¨ç½²æ­¥éª¤

### **ç¬¬ä¸€æ­¥ï¼šéªŒè¯éƒ¨ç½²ç¯å¢ƒ**

1. **æ‰“å¼€ Vercel Dashboard**
   - æ£€æŸ¥æœ€æ–°éƒ¨ç½²çŠ¶æ€ï¼š`b778e29 - Production: Remove all test code...`
   - ç¡®è®¤çŠ¶æ€ä¸º **Ready** âœ…

2. **éªŒè¯åº”ç”¨å¯è®¿é—®**
   - è®¿é—®ï¼šhttps://xmas-tree-opal.vercel.app
   - ç¡®è®¤é¡µé¢æ­£å¸¸åŠ è½½
   - æ£€æŸ¥æ§åˆ¶å°æ— é”™è¯¯

---

### **ç¬¬äºŒæ­¥ï¼šåœ¨ Warpcast ä¸­æµ‹è¯•**

#### **æ–¹æ³• Aï¼šé€šè¿‡ç›´æ¥é“¾æ¥æµ‹è¯•**

1. **å‘é€æµ‹è¯• Castï¼ˆç§å¯†æˆ–è‰ç¨¿ï¼‰**
   ```
   ğŸ„ Testing my Christmas Gift Mini App
   
   https://xmas-tree-opal.vercel.app
   ```

2. **åœ¨ Warpcast ä¸­æŸ¥çœ‹**
   - é“¾æ¥åº”è¯¥æ˜¾ç¤ºä¸º **Mini App å¡ç‰‡**
   - å¡ç‰‡åº”è¯¥æ˜¾ç¤º `preview.svg` å›¾ç‰‡
   - æŒ‰é’®æ–‡å­—ï¼š**ğŸ Open**

3. **ç‚¹å‡» Open æŒ‰é’®**
   - åº”è¯¥åœ¨ WebView ä¸­æ‰“å¼€åº”ç”¨
   - æ£€æŸ¥ SDK æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
   - æ£€æŸ¥ç”¨æˆ·ä¿¡æ¯æ˜¯å¦æ­£ç¡®è·å–

#### **æ–¹æ³• Bï¼šä½¿ç”¨ Warpcast çš„ Frame Validator**

1. **è®¿é—® Frame Validator**
   - URL: https://warpcast.com/~/developers/frames

2. **è¾“å…¥æ‚¨çš„ URL**
   - `https://xmas-tree-opal.vercel.app`

3. **éªŒè¯ Meta æ ‡ç­¾**
   - æ£€æŸ¥ `fc:miniapp` æ˜¯å¦æ­£ç¡®è§£æ
   - æ£€æŸ¥å›¾ç‰‡é¢„è§ˆæ˜¯å¦æ­£å¸¸

---

### **ç¬¬ä¸‰æ­¥ï¼šæ­£å¼å‘å¸ƒ**

#### **1. åˆ›å»ºå‘å¸ƒ Cast**

å»ºè®®æ–‡æ¡ˆï¼š

```
ğŸ„ Jingle Gift - Christmas on Farcaster! ğŸ

Send AI-generated Christmas postcards to your friends!

âœ¨ Features:
â€¢ AI personalized greetings
â€¢ Beautiful vintage postcard design
â€¢ Collectible stamps (Neynar, Farcaster, Warplet, Based)
â€¢ Plaza gifts for community

Try it now! ğŸ‘‡
https://xmas-tree-opal.vercel.app

#Farcaster #Christmas #MiniApp
```

#### **2. å‘å¸ƒå»ºè®®**

- **æ—¶é—´**ï¼šé€‰æ‹© Farcaster æ´»è·ƒæ—¶æ®µï¼ˆç¾å›½æ—¶é—´ç™½å¤©ï¼‰
- **é¢‘é“**ï¼šå‘å¸ƒåˆ° `/miniapps` æˆ– `/christmas` é¢‘é“
- **äº’åŠ¨**ï¼šå‡†å¤‡å›å¤ç”¨æˆ·é—®é¢˜å’Œåé¦ˆ

#### **3. ç›‘æ§æŒ‡æ ‡**

éƒ¨ç½²åå…³æ³¨ï¼š
- Vercel Analyticsï¼ˆæµé‡ï¼‰
- Vercel Logsï¼ˆé”™è¯¯ï¼‰
- ç”¨æˆ·åé¦ˆï¼ˆè¯„è®º/å›å¤ï¼‰

---

## ğŸ”§ Farcaster Mini App æ ¸å¿ƒè§„åˆ™

### **1. Meta æ ‡ç­¾è¦æ±‚**

âœ… **å¿…éœ€æ ‡ç­¾ï¼š**
```html
<meta name="fc:miniapp" content='...' />
```

âœ… **æ¨èæ ‡ç­¾ï¼š**
```html
<meta property="og:title" content="..." />
<meta property="og:image" content="..." />
<meta property="og:description" content="..." />
```

### **2. SDK åˆå§‹åŒ–**

```javascript
import('https://esm.sh/@farcaster/miniapp-sdk').then(async ({ sdk }) => {
    sdk.actions.ready(); // å¿…é¡»è°ƒç”¨ï¼
    const context = await sdk.context;
    const user = context.user; // è·å–ç”¨æˆ·ä¿¡æ¯
});
```

### **3. ç”¨æˆ·ä¿¡æ¯è·å–**

```javascript
const user = {
    fid: context.user.fid,           // Farcaster ID
    username: context.user.username, // ç”¨æˆ·å
    displayName: context.user.displayName,
    pfpUrl: context.user.pfpUrl     // å¤´åƒ
};
```

### **4. é™åˆ¶å’Œçº¦æŸ**

âš ï¸ **ä¸æ”¯æŒï¼š**
- ä¸èƒ½ä½¿ç”¨ `alert()` / `confirm()` / `prompt()`ï¼ˆä¼šè¢«æ²™ç®±é˜»æ­¢ï¼‰
- éœ€è¦ç”¨è‡ªå®šä¹‰ Modal æ›¿ä»£

âš ï¸ **æ€§èƒ½è¦æ±‚ï¼š**
- é¦–å±åŠ è½½ < 3 ç§’
- å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒç§»åŠ¨ç«¯ï¼‰

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### **é—®é¢˜ 1ï¼šMini App ä¸æ˜¾ç¤º**

**æ£€æŸ¥ï¼š**
1. `fc:miniapp` meta æ ‡ç­¾æ˜¯å¦æ­£ç¡®
2. `imageUrl` å›¾ç‰‡æ˜¯å¦å¯è®¿é—®
3. JSON æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆæ— è¯­æ³•é”™è¯¯ï¼‰

**è§£å†³ï¼š**
```bash
curl -I https://xmas-tree-opal.vercel.app/preview.svg
# åº”è¯¥è¿”å› 200 OK
```

### **é—®é¢˜ 2ï¼šSDK Context ä¸º undefined**

**åŸå› ï¼š**
- SDK è¿˜æœªå®Œå…¨åŠ è½½
- éœ€è¦ `await sdk.context`

**è§£å†³ï¼š**
```javascript
const context = await sdk.context; // å¿…é¡» await
```

### **é—®é¢˜ 3ï¼šç”¨æˆ·ä¿¡æ¯è·å–å¤±è´¥**

**æ£€æŸ¥ï¼š**
1. æ˜¯å¦åœ¨ Farcaster å®¢æˆ·ç«¯ä¸­æ‰“å¼€
2. SDK æ˜¯å¦è°ƒç”¨äº† `ready()`
3. æ˜¯å¦ä½¿ç”¨äº† demo fallback

**å½“å‰å®ç°ï¼š**
```javascript
// 1 ç§’å»¶è¿Ÿ + demo user fallback
if (!window.currentUser?.fid) {
    await new Promise(r => setTimeout(r, 1000));
    // å¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œä½¿ç”¨ demo user
}
```

---

## ğŸ“Š éƒ¨ç½²åç›‘æ§

### **1. Vercel Analytics**
- è®¿é—®ï¼šhttps://vercel.com/misas-projects-f9fe1ec5/xmas-tree
- æŸ¥çœ‹ï¼š
  - è®¿é—®é‡
  - åœ°ç†åˆ†å¸ƒ
  - è®¾å¤‡ç±»å‹

### **2. Vercel Logs**
- è®¿é—®ï¼šDeployment â†’ Logs
- æŸ¥æ‰¾ï¼š
  - API é”™è¯¯
  - å‡½æ•°è¶…æ—¶
  - ç”¨æˆ·æŠ¥é”™

### **3. ç”¨æˆ·åé¦ˆ**
- Warpcast è¯„è®º
- GitHub Issues
- ç¤¾åŒºåé¦ˆ

---

## ğŸš€ ä¼˜åŒ–å»ºè®®ï¼ˆéƒ¨ç½²åï¼‰

### **çŸ­æœŸä¼˜åŒ–ï¼š**
1. ä¿®å¤å¤šé€‰é‚®ç¥¨ bug
2. ä¼˜åŒ– SDK ç”¨æˆ·è·å–ï¼ˆç§»é™¤ demo fallbackï¼‰
3. æ·»åŠ é”™è¯¯ä¸ŠæŠ¥ï¼ˆSentryï¼‰

### **é•¿æœŸä¼˜åŒ–ï¼š**
1. æ€§èƒ½ä¼˜åŒ–ï¼ˆå‡å°‘é¦–å±åŠ è½½æ—¶é—´ï¼‰
2. æ·»åŠ äº‘å­˜å‚¨ï¼ˆUpstash Redis å·²é…ç½®ä½†æœªä½¿ç”¨ï¼‰
3. ç¤¾äº¤åˆ†äº«åŠŸèƒ½å¢å¼º
4. ç”¨æˆ·æ•°æ®åˆ†æ

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] Vercel æœ€æ–°éƒ¨ç½²çŠ¶æ€ = Ready
- [ ] è®¿é—® URL æ­£å¸¸åŠ è½½
- [ ] åœ¨ Warpcast ä¸­é¢„è§ˆ Mini App å¡ç‰‡
- [ ] ç‚¹å‡» Open æŒ‰é’®èƒ½æ­£å¸¸æ‰“å¼€
- [ ] SDK ç”¨æˆ·ä¿¡æ¯æ­£ç¡®è·å–
- [ ] é‚®ç¥¨ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
- [ ] AI ç”Ÿå›¾åŠŸèƒ½æ­£å¸¸
- [ ] å‘é€æ˜ä¿¡ç‰‡åŠŸèƒ½æ­£å¸¸
- [ ] Plaza ç¤¼ç‰©åŠŸèƒ½æ­£å¸¸
- [ ] æ— æ§åˆ¶å°é”™è¯¯
- [ ] æ­£å¼å‘å¸ƒ Cast

---

## ğŸ“ æ”¯æŒå’Œå¸®åŠ©

**Farcaster å¼€å‘è€…èµ„æºï¼š**
- æ–‡æ¡£ï¼šhttps://docs.farcaster.xyz
- SDKï¼šhttps://github.com/farcaster/miniapp-sdk
- ç¤¾åŒºï¼šWarpcast `/fc-dev` é¢‘é“

**æœ¬é¡¹ç›®é—®é¢˜ï¼š**
- GitHub: https://github.com/0xPanty/XmasTree
- ä½œè€…ï¼š@0xPanty on Warpcast
